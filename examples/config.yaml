# BLE Studio 仿真配置文件
# 修改此文件后运行 demo.py 即可

# 仿真模式: advertising (广播包) 或 rf_test/dtm (射频测试)
mode: "advertising"

# 发送端配置 (广播模式使用)
tx:
  # 广播地址 (6字节, 十六进制)
  adv_address: "11:22:33:44:55:66"
  # 广播数据 (十六进制字符串)
  adv_data: "0201060908424c455374756469"
  # 广播信道 (37, 38, 39)
  channel: 37

# RF Test 配置 (DTM模式使用)
rf_test:
  # 负载类型:
  #   PRBS9 - PRBS9 伪随机序列
  #   PRBS15 - PRBS15 伪随机序列
  #   PATTERN_11110000 - 0xF0 重复
  #   PATTERN_10101010 - 0x55 重复
  #   PATTERN_11111111 - 0xFF 全1
  #   PATTERN_00000000 - 0x00 全0
  #   PATTERN_00001111 - 0x0F 重复
  #   PATTERN_01010101 - 0xAA 重复
  payload_type: "PRBS9"
  # 负载长度 (0-255 bytes)
  payload_length: 37
  # 测试信道 (0-39)
  channel: 0

# 调制参数
modulation:
  # PHY 模式: LE_1M, LE_2M, LE_CODED_S2, LE_CODED_S8
  phy_mode: "LE_1M"
  # 采样率 (Hz)
  sample_rate: 8.0e6
  # 调制指数 (0.45-0.55)
  modulation_index: 0.5
  # 高斯滤波器 BT 积
  bt: 0.5

# 信道参数
channel:
  # 信噪比 (dB) - 建议 >= 12 dB 以保证稳定解调
  snr_db: 15
  # 载波频偏 (Hz)
  freq_offset: 50.0e3

# 输出配置
output:
  # 输出目录
  dir: "results"
  # 生成 HTML 报告
  html_report: true
  # 生成图表页面
  html_charts: true
  # 图表主题: default (白底), dark (深灰底), instrument (黑底亮色)
  theme: "instrument"

# IQ 数据导出配置 (用于 Verilog 硬件仿真)
iq_export:
  # 是否启用 IQ 数据导出
  enabled: true
  # 量化位宽 (8, 10, 12, 14, 16 等)
  bit_width: 12
  # Q 格式小数位数 (0 表示纯整数, 如 Q12.0)
  # 例如: frac_bits=11 表示 Q1.11 格式
  frac_bits: 0
  # IQ 格式:
  #   two_column - 每行两列: I Q
  #   interleaved - 交织: I0 Q0 I1 Q1 ...
  #   separate - 分离: 所有I 然后 所有Q
  iq_format: "two_column"
  # 数值格式:
  #   signed - 有符号整数
  #   unsigned - 无符号整数 (补码)
  #   hex - 十六进制
  number_format: "signed"
  # 是否添加文件头注释
  add_header: true
  # 导出 Verilog $readmemh 格式
  verilog_mem: true

# IQ 数据导入配置 (用于解调外部数据)
iq_import:
  # 导入文件路径 (留空则不导入)
  file: ""
  # 文件类型: txt, mat
  file_type: "txt"
  # 量化位宽
  bit_width: 12
  # Q 格式小数位数
  frac_bits: 0
  # IQ 格式 (txt 文件)
  iq_format: "two_column"
  # 数值格式 (txt 文件)
  number_format: "signed"
  # 跳过的行数 (头部注释)
  skip_lines: 0
  # MAT 文件变量名
  mat_i_var: "I"
  mat_q_var: "Q"
  mat_complex_var: ""  # 如果是复数变量, 填写变量名
